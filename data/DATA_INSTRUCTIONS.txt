# Chest X-Ray Pneumonia Dataset - Download Instructions

## Dataset Information

**Name:** Chest X-Ray Images (Pneumonia)
**Source:** Kaggle
**Size:** ~5.86 GB (5,856 images)
**Format:** JPEG images
**Classes:** NORMAL, PNEUMONIA

## Download Instructions

### Option 1: Download from Kaggle (Recommended)

1. **Visit Kaggle Dataset Page:**
   https://www.kaggle.com/datasets/paultimothymooney/chest-xray-pneumonia

2. **Sign in or Create Account:**
   - You need a Kaggle account to download datasets
   - Create free account at: https://www.kaggle.com/account/login

3. **Download the Dataset:**
   - Click the "Download" button on the dataset page
   - File: `archive.zip` (~1.15 GB compressed)

4. **Extract the Dataset:**
   ```bash
   # Navigate to your downloads folder
   cd ~/Downloads

   # Unzip the archive
   unzip archive.zip

   # Move to project data folder
   mv chest_xray /path/to/mini-project-5/data/
   ```

### Option 2: Using Kaggle API (Advanced)

1. **Install Kaggle CLI:**
   ```bash
   pip install kaggle
   ```

2. **Setup Kaggle API Credentials:**
   - Go to https://www.kaggle.com/settings
   - Scroll to "API" section
   - Click "Create New API Token"
   - This downloads `kaggle.json`
   - Place it in: `~/.kaggle/kaggle.json` (Linux/Mac) or `C:\Users\<username>\.kaggle\kaggle.json` (Windows)

3. **Download Dataset:**
   ```bash
   # Navigate to data directory
   cd /path/to/mini-project-5/data

   # Download dataset
   kaggle datasets download -d paultimothymooney/chest-xray-pneumonia

   # Unzip
   unzip chest-xray-pneumonia.zip
   ```

## Expected Directory Structure

After extraction, your `data/` folder should look like this:

```
data/
└── chest_xray/
    ├── train/
    │   ├── NORMAL/          (1,341 images)
    │   │   ├── IM-0115-0001.jpeg
    │   │   ├── IM-0117-0001.jpeg
    │   │   └── ...
    │   └── PNEUMONIA/       (3,875 images)
    │       ├── person1000_bacteria_2931.jpeg
    │       ├── person1000_virus_1681.jpeg
    │       └── ...
    ├── test/
    │   ├── NORMAL/          (234 images)
    │   └── PNEUMONIA/       (390 images)
    └── val/
        ├── NORMAL/          (8 images)
        └── PNEUMONIA/       (8 images)
```

## Dataset Statistics

- **Total Images:** 5,856
- **Training Set:** 5,216 images (1,341 NORMAL + 3,875 PNEUMONIA)
- **Validation Set:** 16 images (8 NORMAL + 8 PNEUMONIA) ⚠️ Very small!
- **Test Set:** 624 images (234 NORMAL + 390 PNEUMONIA)

**Note:** The original validation set is too small (only 16 images). Our project creates a new 80/20 train/validation split from the training data.

## Image Properties

- **Format:** JPEG (grayscale X-rays saved as RGB)
- **Size Range:** 232 to 2,625 pixels (highly variable)
- **Color:** Originally grayscale, stored as 3-channel RGB
- **File Size:** ~20-150 KB per image

## Data Preprocessing (Applied in Notebooks)

1. Resize to 224×224 pixels
2. Convert RGB to grayscale (1 channel)
3. Normalize pixel values to [0, 1] range
4. Create new 80/20 train/validation split

## Citation

If using this dataset, please cite:

```
Kermany, Daniel; Zhang, Kang; Goldbaum, Michael (2018)
Labeled Optical Coherence Tomography (OCT) and Chest X-Ray Images for Classification
Mendeley Data, V2
http://dx.doi.org/10.17632/rscbjbr9sj.2
```

Kaggle Dataset:
```
https://www.kaggle.com/datasets/paultimothymooney/chest-xray-pneumonia
```

## Troubleshooting

**Issue:** "Download is too slow"
- Solution: Try downloading during off-peak hours or use Kaggle API

**Issue:** "Cannot unzip archive"
- Solution: Ensure you have enough disk space (~6 GB free)
- Try using 7-Zip (Windows) or `unzip` command (Linux/Mac)

**Issue:** "Permission denied"
- Solution (Linux/Mac): `chmod -R 755 chest_xray/`
- Solution (Windows): Right-click → Properties → Security → Edit permissions

**Issue:** "Kaggle API not working"
- Solution: Ensure `kaggle.json` has correct permissions: `chmod 600 ~/.kaggle/kaggle.json`

## Verification

To verify the dataset is correctly downloaded, run this in Python:

```python
from pathlib import Path

data_dir = Path('chest_xray')

# Check structure
print("Checking dataset structure...")
assert (data_dir / 'train' / 'NORMAL').exists(), "Train/NORMAL missing"
assert (data_dir / 'train' / 'PNEUMONIA').exists(), "Train/PNEUMONIA missing"
assert (data_dir / 'test' / 'NORMAL').exists(), "Test/NORMAL missing"
assert (data_dir / 'test' / 'PNEUMONIA').exists(), "Test/PNEUMONIA missing"

# Count images
train_normal = len(list((data_dir / 'train' / 'NORMAL').glob('*.jpeg')))
train_pneumonia = len(list((data_dir / 'train' / 'PNEUMONIA').glob('*.jpeg')))
test_normal = len(list((data_dir / 'test' / 'NORMAL').glob('*.jpeg')))
test_pneumonia = len(list((data_dir / 'test' / 'PNEUMONIA').glob('*.jpeg')))

print(f"Train NORMAL: {train_normal} (expected: 1,341)")
print(f"Train PNEUMONIA: {train_pneumonia} (expected: 3,875)")
print(f"Test NORMAL: {test_normal} (expected: 234)")
print(f"Test PNEUMONIA: {test_pneumonia} (expected: 390)")

if train_normal == 1341 and train_pneumonia == 3875:
    print("\n✅ Dataset verified successfully!")
else:
    print("\n⚠️ Image counts don't match. Please re-download.")
```

## Support

For issues with:
- **Dataset download:** Check Kaggle dataset page comments
- **Project code:** See README.md or raise GitHub issue
- **Kaggle API:** https://github.com/Kaggle/kaggle-api

## License

The dataset is available under CC BY 4.0 License.
See: https://creativecommons.org/licenses/by/4.0/

## Important Notes

⚠️ **DO NOT commit the dataset to Git/GitHub!**
- The dataset is ~6 GB and exceeds GitHub file size limits
- It's already publicly available on Kaggle
- The `.gitignore` file in this project excludes the `data/` folder

✅ **What to share instead:**
- This instruction file (DATA_INSTRUCTIONS.txt)
- Link to Kaggle dataset
- Preprocessing code (in notebooks)

---

Last Updated: February 14, 2026
Project: Mini Project 5 - CNN Image Classifier
Course: COMP 9130 - Applied Artificial Intelligence